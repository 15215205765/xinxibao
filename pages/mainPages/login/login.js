(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mainPages/login/login"],{2010:function(e,t,n){},"2ebb":function(e,t,n){"use strict";(function(e){n("f466");o(n("66fd"));var t=o(n("3577"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},3577:function(e,t,n){"use strict";n.r(t);var o=n("85e0"),s=n("e343");for(var a in s)"default"!==a&&function(e){n.d(t,e,function(){return s[e]})}(a);n("54d8");var r,i=n("f0c5"),u=Object(i["a"])(s["default"],o["b"],o["c"],!1,null,"35eda382",null,!1,o["a"],r);t["default"]=u.exports},"54d8":function(e,t,n){"use strict";var o=n("2010"),s=n.n(o);s.a},"85e0":function(e,t,n){"use strict";var o,s=function(){var e=this,t=e.$createElement;e._self._c},a=[];n.d(t,"b",function(){return s}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return o})},ad17:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(n("3099"));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r={data:function(){var e;return e={text1Focus:!0,text2Focus:!1,text3Focus:!1,text4Focus:!1,sms1:"",sms2:"",sms3:"",sms4:"",page:1,see:!1,password:"",getImgUrl:"",getImgCode:"",getSmsCode:"",timeCount:0,smsCode:"",timeEnd:"重新获取短信验证码",userSet:{sms_switch:"",img_switch:""},phone:""},a(e,"password",""),a(e,"currentPageUrl",""),e},onLoad:function(){this.init(),console.info(e.getStorageSync("currentPage"))},watch:{sms1:{handler:function(){var e=this;1==e.sms1.length&&(e.text2Focus=!0,e.text1Focus=!1)}},sms2:{handler:function(){var e=this;1==e.sms2.length&&(e.text3Focus=!0,e.text2Focus=!1),0==e.sms2.length&&(e.text1Focus=!0,e.text2Focus=!1)}},sms3:{handler:function(){var e=this;1==e.sms3.length&&(e.text4Focus=!0,e.text3Focus=!1),0==e.sms3.length&&(e.text2Focus=!0,e.text3Focus=!1)}},sms4:{handler:function(){var e=this;0==e.sms4.length&&(console.info(e.text3Focus),e.text3Focus=!0,e.text4Focus=!1)}}},methods:{init:function(){var e=this;e.getRegisterSet()},toLoginAgreement:function(){o.default.navigationTo({url:"pages/mainPages/agreement/agreement?agremType=user"})},sendSms:function(){var t=this;if(3!==t.page){if(""==t.phone||11!==t.phone.length)return e.showToast({icon:"none",title:"请输入正确格式的手机号",duration:2e3}),t.GVC(),void(t.password="");if(""==t.password&&1==t.userSet.img_switch)return e.showToast({icon:"none",title:"验证码不能为空",duration:2e3}),t.GVC(),void(t.password="")}var n={type:2,phone:t.phone};o.default._post_form("&do=PIN",n,function(e){var n=60,o=setInterval(function(){n--,t.timeEnd=n+"s后重新获取验证码",t.timeCount=n,0==n&&clearInterval(o)},1e3);t.getSmsCode=e.data.code,3!==t.page&&(t.page=3)})},userLogin:function(t){var n=this;if(1==n.page){if(""==n.phone||11!==n.phone.length)return void e.showToast({icon:"none",title:"请输入正确格式的手机号",duration:2e3});if(""==n.password)return void e.showToast({icon:"none",title:"密码不能为空",duration:2e3})}n.smsCode="".concat(n.sms1).concat(n.sms2).concat(n.sms3).concat(n.sms4);var s={type:t,phone:n.phone,password:3==n.page?n.smsCode:n.password,backurl:""};s.head_id=e.getStorageSync("head_id"),o.default._post_form("&p=member&do=userLogin",s,function(t){if(e.setStorageSync("weliam_user_token",t.data.token),""==e.getStorageSync("currentPage"))o.default.navigationTo({url:"pages/mainPages/index/index"});else{for(var s in n.currentPageUrl=e.getStorageSync("currentPage").route+"?i="+e.getStorageSync("currentPage").options.i,e.getStorageSync("currentPage").options)console.info(s),"i"!==s&&(n.currentPageUrl=n.currentPageUrl+"&"+s+"="+e.getStorageSync("currentPage").options[s]);console.info(n.currentPageUrl),o.default.navigationTo({url:n.currentPageUrl})}})},getRegisterSet:function(){var e=this,t={};o.default._post_form("&p=member&do=getRegisterSet",t,function(t){e.userSet=t.data,1==e.userSet.img_switch&&e.GVC()})},GVC:function(){var e=this,t={};o.default._post_form("&do=GVC",t,function(t){e.getImgUrl=t.data.image_data,e.getImgCode=t.data.code})},toPassword:function(e){var t=this;t.phone="",t.password="",t.page=e,console.info(t.page)},go:function(){o.default.navigationTo({url:"pages/mainPages/register/register"})},goForgetPassword:function(){o.default.navigationTo({url:"pages/mainPages/forgetPassword/forgetPassword"})},show:function(e){var t=this;t.see=e}}};t.default=r}).call(this,n("543d")["default"])},e343:function(e,t,n){"use strict";n.r(t);var o=n("ad17"),s=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);t["default"]=s.a}},[["2ebb","common/runtime","common/vendor"]]]);