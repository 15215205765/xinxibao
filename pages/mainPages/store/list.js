(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mainPages/store/list"],{"24ec":function(t,o,e){"use strict";(function(t){e("f466");n(e("66fd"));var o=n(e("d8a2"));function n(t){return t&&t.__esModule?t:{default:t}}t(o.default)}).call(this,e("543d")["createPage"])},"60ac":function(t,o,e){},"8cfe":function(t,o,e){"use strict";e.r(o);var n=e("b309"),a=e.n(n);for(var r in n)"default"!==r&&function(t){e.d(o,t,function(){return n[t]})}(r);o["default"]=a.a},a3b3:function(t,o,e){"use strict";var n,a=function(){var t=this,o=t.$createElement;t._self._c},r=[];e.d(o,"b",function(){return a}),e.d(o,"c",function(){return r}),e.d(o,"a",function(){return n})},b309:function(t,o,e){"use strict";(function(t){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=r(e("3099")),a=r(e("e0c2"));function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return l(t)||u(t)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function u(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function l(t){if(Array.isArray(t)){for(var o=0,e=new Array(t.length);o<t.length;o++)e[o]=t[o];return e}}var s=function(){return e.e("components/template/loadlogo").then(e.bind(null,"9976"))},d=function(){return e.e("components/template/loadmore").then(e.bind(null,"789c"))},g=function(){return e.e("components/template/GoTopBtn").then(e.bind(null,"c918"))},f=function(){return e.e("components/template/nonemores").then(e.bind(null,"5e83"))},h=function(){return e.e("components/template/filtertab").then(e.bind(null,"ffc0"))},p={mixins:[a.default],data:function(){return{showTabbar:!1,homeInfoData:{},goodsListData:[],loadlogo:!1,currentType:null,current_page:1,order:"",cate_one:"",cate_two:"",region_id:"",lat:"",lng:"",shopInfoList:[],pageScroll:0,total:null,shopFold:!0,shopFoldIndex:-1,loadingMore:!0}},watch:{},components:{Loadlogo:s,GoTopBtn:g,loadMore:d,noneMores:f,filtertab:h},computed:{agencyData:function(){return t.getStorageSync("agencyData")},curLoction:function(){return t.getStorageSync("curLoction")}},onLoad:function(t){var o=this;o.setData({cate_one:t.cate_one>0?t.cate_one:"",cate_two:t.cate_two>0?t.cate_two:""}),o.shopInit()},methods:{shopInit:function(t){var o=this;o.setData({orderid:t}),o.getShoplist(1,t,o.cate_one,o.cate_two,o.agencyData.areaid,o.curLoction.latitude,o.curLoction.longitude)},getShoplist:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",l=arguments.length>7&&void 0!==arguments[7]&&arguments[7],s=this,d={page:t,order:o,cate_one:e,cate_two:a,region_id:r,lat:c,lng:u,is_total:1};n.default._post_form("&p=store&do=homeList",d,function(t){var o,e=t.data.list;if(e&&e.length>0)for(var n=0;n<e.length;n++){var a=[];for(var r in e[n].goods){var c=e[n].goods[r];""!==c&&("active"==r?(c.css="qiang",c.tag="抢"):"coupon"==r?(c.css="hui",c.tag="券"):"fightgroup"==r?(c.css="pin",c.tag="拼"):"groupon"==r?(c.css="tuan",c.tag="团"):"halfcard"==r?(c.css="ka",c.tag="卡"):"packages"==r?(c.css="li",c.tag="礼"):"bargain"==r&&(c.css="kan",c.tag="砍"),a.push(c))}e[n].goods=a}l?e.length>0?(o=s["shopInfoList"]).push.apply(o,i(e)):s.loadingMore=!0:s.setData({shopInfoList:e,loadingMore:0===e.length||s.current_page===t.data.total,total:t.data.total})},!1,function(){s.loadlogo=!0})},navigateTo:function(t){var o=-1!==t.indexOf("https");o?location.href=t:n.default.navigationTo({url:t})},shangjiaFold:function(t){this.shopFold=!1,this.shopFoldIndex=t},shangjiaUpFold:function(t){this.shopFold=!0,this.shopFoldIndex=t},selectAreaid:function(t){var o=this,e=o.order,n=o.cate_one,a=o.cate_two;o.setData({region_id:t.id,current_page:1}),o.getShoplist(1,e,n,a,t.id,o.curLoction.latitude,o.curLoction.longitude)},selectClassid:function(t){var o=this,e=o.order,n=o.region_id;0===t.list.length&&(o.getShoplist(1,e,t.cate_one,"",n,o.curLoction.latitude,o.curLoction.longitude),o.setData({current_page:1})),o.setData({cate_one:t.cate_one})},selectClassTwoid:function(t){var o=this,e=o.order,n=o.region_id,a=o.cate_one;o.getShoplist(1,e,a,t.cate_two,n,o.curLoction.latitude,o.curLoction.longitude),o.setData({cate_two:t.cate_two,current_page:1})},selectOrders:function(t){var o=this,e=o.region_id,n=o.cate_one,a=o.cate_two;o.getShoplist(1,t.val,n,a,e,o.curLoction.latitude,o.curLoction.longitude),o.setData({order:t.val,current_page:1})}},mounted:function(){},onReachBottom:function(t){console.log("Bottom");var o=this,e=o.order,n=o.cate_one,a=o.cate_two,r=o.region_id,i=o.current_page,c=o.total;if(i>=c)return o.loadingMore=!0,!1;o.getShoplist(++o.current_page,e,n,a,r,o.curLoction.latitude,o.curLoction.longitude,!0)}};o.default=p}).call(this,e("543d")["default"])},d8a2:function(t,o,e){"use strict";e.r(o);var n=e("a3b3"),a=e("8cfe");for(var r in a)"default"!==r&&function(t){e.d(o,t,function(){return a[t]})}(r);e("dbb8");var i,c=e("f0c5"),u=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],i);o["default"]=u.exports},dbb8:function(t,o,e){"use strict";var n=e("60ac"),a=e.n(n);a.a}},[["24ec","common/runtime","common/vendor"]]]);