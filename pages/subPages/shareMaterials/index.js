(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/subPages/shareMaterials/index"],{"0a0f":function(t,n,e){"use strict";e.r(n);var o=e("e407"),i=e.n(o);for(var a in o)"default"!==a&&function(t){e.d(n,t,function(){return o[t]})}(a);n["default"]=i.a},"18fa":function(t,n,e){},"91d4":function(t,n,e){"use strict";e.r(n);var o=e("f68a"),i=e("0a0f");for(var a in i)"default"!==a&&function(t){e.d(n,t,function(){return i[t]})}(a);e("fb3c");var r,s=e("f0c5"),u=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],r);n["default"]=u.exports},ae08:function(t,n,e){"use strict";(function(t){e("f466");o(e("66fd"));var n=o(e("91d4"));function o(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},e407:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(e("3099"));function i(t){return t&&t.__esModule?t:{default:t}}var a={data:function(){return{phoneHight:null,e:{},goodsExtensionInfo:{},posterList:{},imgArray:[],allImgLength:0,client:null,imgArrays:[]}},onLoad:function(t){var n=this;n.e=t,n.client=Number(o.default.getClientType()),n.init(t.id,t.type),console.info("client",n.client)},onShow:function(){},methods:{init:function(n,e){var o=this;t.getSystemInfo({success:function(t){o.phoneHight=t.windowHeight+"px"}});var i=0;"3"==e?i=1:"4"==e?i=2:"6"==e?i=3:"7"==e&&(i=7),o.getGoodsExtensionInfo(n,i),o.getPoster(n,e)},previewImage:function(t){},qx:function(){var t=this;if(t.imgArray.length==t.allImgLength)t.setData({imgArray:[]});else if(t.imgArray.length!=t.allImgLength){t.setData({imgArray:[]});var n=[];n.push(t.posterList.url);for(var e=0;e<t.goodsExtensionInfo.extension_img.length;e++)n.push(t.goodsExtensionInfo.extension_img[e]);t.setData({imgArray:n})}},addImage:function(n,e,o){var i=this;if(3===n)if(-1==i.imgArray.indexOf(e))i.imgArray.push(e);else for(var a=0;a<i.imgArray.length;a++)i.imgArray[a]==e&&i.imgArray.splice(a,1);else t.previewImage({current:i.imgArrays[o],urls:i.imgArrays})},getExtension:function(){var n=this;t.setClipboardData({data:n.goodsExtensionInfo.extension_text,success:function(){t.showToast({icon:"none",title:"复制成功",duration:2e3})}})},saveImg:function(){var n=this;t.showLoading({title:"保存中"}),n.queue(n.imgArray).then(function(n){t.hideLoading(),o.default.showSuccess("保存成功")}).catch(function(t){wx.hideLoading(),console.log(t)})},queue:function(t){var n=this,e=Promise.resolve();return t.forEach(function(t,o){e=e.then(function(){return n.downloadUrl(t)})}),e},downloadUrl:function(n){return new Promise(function(e,o){t.downloadFile({url:n.replace("http:","https:"),success:function(n){var i=n.tempFilePath;t.saveImageToPhotosAlbum({filePath:i,success:function(t){e(t)},fail:function(t){o(n)}})},fail:function(t){o(t)}})})},getPoster:function(t,n){var e=this,i={id:t,type:n,bg_img:""};o.default._post_form("&do=Poster",i,function(t){e.posterList=t.data,e.imgArrays.push(t.data.url)})},getGoodsExtensionInfo:function(t,n){var e=this,i={id:t,type:n};o.default._post_form("&p=goods&do=getGoodsExtensionInfo",i,function(t){e.goodsExtensionInfo=t.data;for(var n=0;n<t.data.extension_img.length;n++)e.imgArrays.push(t.data.extension_img[n]);e.allImgLength=1+t.data.extension_img.length})}}};n.default=a}).call(this,e("543d")["default"])},f68a:function(t,n,e){"use strict";var o,i=function(){var t=this,n=t.$createElement,e=(t._self._c,t.__map(t.imgArrays,function(n,e){var o=t.imgArray.indexOf(n);return{$orig:t.__get_orig(n),g0:o}}));t.$mp.data=Object.assign({},{$root:{l0:e}})},a=[];e.d(n,"b",function(){return i}),e.d(n,"c",function(){return a}),e.d(n,"a",function(){return o})},fb3c:function(t,n,e){"use strict";var o=e("18fa"),i=e.n(o);i.a}},[["ae08","common/runtime","common/vendor"]]]);