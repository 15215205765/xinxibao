(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/subPages/dealer/withdraw/withdraw"],{"18e0":function(t,e,a){"use strict";a.r(e);var n=a("31a7"),r=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);e["default"]=r.a},"202b":function(t,e,a){"use strict";var n=a("51f9"),r=a.n(n);r.a},2059:function(t,e,a){"use strict";(function(t){a("f466");n(a("66fd"));var e=n(a("cc8b"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])},"31a7":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(a("3099"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),n.forEach(function(e){i(t,e,a[e])})}return t}function i(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var u={data:function(){return{bankNameList:[],bankNameIndex:0,atpresent:"",prececurrent:0,txlist:[{id:"we_chat",title:"微信零钱",imag:"/static/images/checkout/weixin.png",pay_type:"2"},{id:"alipay",title:"支付宝",imag:"/static/images/checkout/zhifubao.png",pay_type:"1"},{id:"bank_card",title:"银行账户",imag:"/static/images/checkout/card.png",pay_type:"3"},{id:"balance",title:"余额",imag:"/static/images/checkout/yue.png",pay_type:"4"}],isPageShow:!0,tx_money:null,drawPrice:null,user_info:{},withdrawcharge:null,min_money:"1"}},components:{},computed:{},beforeCreate:function(){},onLoad:function(t){},onShow:function(){},mounted:function(){this.withdrawDetail()},methods:{navgateTo:function(){n.default.navigationTo({url:"pages/subPages/dealer/withdraw/withdrawrecord"})},withdrawDetail:function(){var t=this;n.default._post_form("&p=distribution&do=getCashWithdrawalSet",{},function(e){t.setData(e.data);var a=e.data.payment_set,n=t.txlist,r=n.toString(),o=[];if(0!==a)for(var i=0;i<n.length;i++){if(r.indexOf(n[i].toString())>-1)for(var u in a)if(n[i].id===u&&"1"===a[u]){o.push(n[i]),t.atpresent=o[0].pay_type;break}t.setData({txlist:o})}},!1,function(){})},precedenceChange:function(t){for(var e=0;e<this.txlist.length;e++)if(this.txlist[e].pay_type===t.target.value){this.prececurrent=e;break}this.atpresent=t.target.value},alltx:function(){var t=this,e=t.drawPrice;e&&Number(e)>0?t.tx_money=Number(e):n.default.showError("没有可提现金额")},withdraw:function(e){t.showLoading({});n.default._post_form("&p=distribution&do=cashWithdrawalApply",o({},e),function(t){console.log(t,"申请提现"),0===t.errno&&(console.log(t),n.default.showSuccess("申请提现成功",function(){n.default.navigationTo({url:"pages/subPages/dealer/withdraw/withdrawrecord?draw_id=".concat(t.data.id),navType:"rediRect"})}))},!1,function(){t.hideLoading()})},formSubmit:function(t){var e=this,a={},r=e.min_money,o=e.tx_money,i=e.drawPrice,u=e.withdrawcharge;if(a=t.detail.value,a.sapplymoney=o,console.log(a),e.tx_money)if(Math.round(100*o)/100<Number(r)||Math.round(100*o)/100>Number(i))n.default.showError("请检查输入金额是否小于最少提现金额".concat(r,"元或输入金额大于可提现金额"));else{if("30"===e.atpresent){if(!a.bank_username)return void n.default.showError("请输入开户姓名");if(!a.bank_name)return void n.default.showError("请输入开户银行名称");if(!a.card_number)return void n.default.showError("请输入银行卡号")}if("20"!==e.atpresent||a.alipay){""!=u&&"0"!=u||(u=0);var c={money:o,percent:Number(u)};n.default._post_form("&p=pay&do=calculationCash",c,function(t){if(0===t.errno){var r=t.data.realmoney;console.log(r),n.default.showError("确认提现".concat(o,"元,实得").concat(r,"元"),function(t){t.confirm&&t&&e.withdraw(a)},!0)}})}else n.default.showError("请输入支付宝账号")}else n.default.showError("请输入提现金额")}}};e.default=u}).call(this,a("543d")["default"])},"51f9":function(t,e,a){},"6c41":function(t,e,a){"use strict";var n,r=function(){var t=this,e=t.$createElement;t._self._c},o=[];a.d(e,"b",function(){return r}),a.d(e,"c",function(){return o}),a.d(e,"a",function(){return n})},cc8b:function(t,e,a){"use strict";a.r(e);var n=a("6c41"),r=a("18e0");for(var o in r)"default"!==o&&function(t){a.d(e,t,function(){return r[t]})}(o);a("202b");var i,u=a("f0c5"),c=Object(u["a"])(r["default"],n["b"],n["c"],!1,null,"3f7ac9e2",null,!1,n["a"],i);e["default"]=c.exports}},[["2059","common/runtime","common/vendor"]]]);